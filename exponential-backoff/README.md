## 指数退避

[`指数退避`](https://en.wikipedia.org/wiki/Exponential_backoff)

异步请求重试时增加延迟时间，避免频繁尝试重新请求导致服务器资源浪费。每一次的延迟时间为上一次的 2 倍。

例如：
 - 第 1 次重试前延迟 500ms
 - 第 2 次重试前延迟 1000ms
 - 第 3 次重试前延迟 2000ms

以上举例的时间并不是精确的，此函数会在延迟时间上增加随机值。

>指数退避在分布式系统中的一个主要缺点是，在同一时间开始退避的请求，也会在同一时间进行重试。这导致了请求簇的出现。那么，我们并没有减少每一轮进行竞争的客户端数量，而是引入了没有客户端竞争的时期。固定的指数退避并不能减少很多竞争，并会生成负载峰值。
>
> 为了处理指数退避的负载峰值问题，我们向退避策略中添加抖动。抖动是一种去相关性策略，在重试的间隔中添加随机性，从而分摊了负载，避免了出现网络请求簇。

```ts
import getDelay from './exponential-backoff'

getDelay(0) // 500+ ms
getDelay(1) // 1000+ ms
getDelay(2) // 2000+ ms
```
